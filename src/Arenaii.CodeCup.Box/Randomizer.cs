using System.Collections.Generic;

namespace Arenaii.CodeCup.Box;

public static class Randomizer
{
    private static readonly uint[] Tiles = [42798, 71470, 103726, 46382, 78638, 107310, 140910, 83566, 115822, 144494, 79982, 108654, 136878, 50862, 115374, 144046, 47278, 104622, 136430, 50414, 82670, 140014, 43246, 71918, 169190, 54502, 86758, 172774, 43750, 72422, 103782, 46438, 78694, 107366, 42854, 71526, 119910, 177254, 80486, 109158, 173670, 87654, 119462, 176806, 47782, 105126, 169638, 54950, 152222, 180894, 51870, 137886, 170142, 55454, 86814, 172830, 43806, 72478, 169246, 54558, 82782, 140126, 43358, 72030, 136542, 50526, 84574, 141918, 174174, 88158, 152670, 181342, 117334, 146006, 178262, 120918, 153174, 181846, 51926, 137942, 170198, 55510, 152278, 180950, 47894, 105238, 169750, 55062, 119574, 176918, 47446, 104790, 137046, 51030, 115542, 144214, 80206, 108878, 141134, 83790, 116046, 144718, 178318, 120974, 153230, 181902, 117390, 146062, 174286, 88270, 152782, 181454, 84686, 142030, 173838, 87822, 120078, 177422, 80654, 109326, 206633, 91945, 124201, 210217, 81193, 109865, 141225, 83881, 116137, 144809, 80297, 108969, 157353, 214697, 117929, 146601, 211113, 125097, 156905, 214249, 85225, 142569, 207081, 92393, 189665, 218337, 89313, 175329, 207585, 92897, 124257, 210273, 81249, 109921, 206689, 92001, 120225, 177569, 80801, 109473, 173985, 87969, 122017, 179361, 211617, 125601, 190113, 218785, 154777, 183449, 215705, 158361, 190617, 219289, 89369, 175385, 207641, 92953, 189721, 218393, 85337, 142681, 207193, 92505, 157017, 214361, 84889, 142233, 174489, 88473, 152985, 181657, 117649, 146321, 178577, 121233, 153489, 182161, 215761, 158417, 190673, 219345, 154833, 183505, 211729, 125713, 190225, 218897, 122129, 179473, 211281, 125265, 157521, 214865, 118097, 146769, 80241, 108913, 141169, 83825, 116081, 144753, 178353, 121009, 153265, 181937, 117425, 146097, 174321, 88305, 152817, 181489, 84721, 142065, 173873, 87857, 120113, 177457, 80689, 109361, 202538, 59178, 123690, 209706, 48426, 105770, 137130, 51114, 115626, 144298, 47530, 104874, 157290, 214634, 117866, 146538, 211050, 125034, 156394, 213738, 52458, 138474, 202986, 59626, 189154, 217826, 56546, 171234, 203490, 60130, 123746, 209762, 48482, 105826, 202594, 59234, 119714, 177058, 48034, 105378, 169890, 55202, 121954, 179298, 211554, 125538, 190050, 218722, 154714, 183386, 215642, 158298, 190554, 219226, 56602, 171290, 203546, 60186, 189210, 217882, 52570, 138586, 203098, 59738, 156506, 213850, 52122, 138138, 170394, 55706, 152474, 181146, 117642, 146314, 178570, 121226, 153482, 182154, 215754, 158410, 190666, 219338, 154826, 183498, 211722, 125706, 190218, 218890, 122122, 179466, 211274, 125258, 157514, 214858, 118090, 146762, 47474, 104818, 137074, 51058, 115570, 144242, 178290, 120946, 153202, 181874, 117362, 146034, 170226, 55538, 152306, 180978, 51954, 137970, 169778, 55090, 119602, 176946, 47922, 105266, 202027, 58667, 90923, 205611, 44331, 73003, 136619, 50603, 82859, 140203, 43435, 72107, 156779, 214123, 85099, 142443, 206955, 92267, 156331, 213675, 52395, 138411, 202923, 59563, 189091, 217763, 56483, 171171, 203427, 60067, 90979, 205667, 44387, 73059, 202083, 58723, 86947, 172963, 43939, 72611, 169379, 54691, 89187, 175203, 207459, 92771, 189539, 218211, 154707, 183379, 215635, 158291, 190547, 219219, 56595, 171283, 203539, 60179, 189203, 217875, 52563, 138579, 203091, 59731, 156499, 213843, 52115, 138131, 170387, 55699, 152467, 181139, 84875, 142219, 174475, 88459, 152971, 181643, 215691, 158347, 190603, 219275, 154763, 183435, 207627, 92939, 189707, 218379, 89355, 175371, 207179, 92491, 157003, 214347, 85323, 142667, 43379, 72051, 136563, 50547, 82803, 140147, 174195, 88179, 152691, 181363, 84595, 141939, 170163, 55475, 152243, 180915, 51891, 137907, 169267, 54579, 86835, 172851, 43827, 72499, 201964, 58604, 90860, 205548, 44268, 72940, 103852, 46508, 78764, 107436, 42924, 71596, 124012, 210028, 81004, 109676, 206444, 91756, 123564, 209580, 48300, 105644, 202412, 59052, 189084, 217756, 56476, 171164, 203420, 60060, 90972, 205660, 44380, 73052, 202076, 58716, 86940, 172956, 43932, 72604, 169372, 54684, 89180, 175196, 207452, 92764, 189532, 218204, 121940, 179284, 211540, 125524, 190036, 218708, 56532, 171220, 203476, 60116, 189140, 217812, 48468, 105812, 202580, 59220, 123732, 209748, 48020, 105364, 169876, 55188, 119700, 177044, 80780, 109452, 173964, 87948, 120204, 177548, 211596, 125580, 190092, 218764, 121996, 179340, 207564, 92876, 189644, 218316, 89292, 175308, 206668, 91980, 124236, 210252, 81228, 109900, 42868, 71540, 103796, 46452, 78708, 107380, 173684, 87668, 119924, 177268, 80500, 109172, 169652, 54964, 119476, 176820, 47796, 105140, 169204, 54516, 86772, 172788, 43764, 72436, 201957, 58597, 90853, 205541, 44261, 72933, 103845, 46501, 78757, 107429, 42917, 71589, 124005, 210021, 80997, 109669, 206437, 91749, 123557, 209573, 48293, 105637, 202405, 59045, 156317, 213661, 52381, 138397, 202909, 59549, 90909, 205597, 44317, 72989, 202013, 58653, 82845, 140189, 43421, 72093, 136605, 50589, 85085, 142429, 206941, 92253, 156765, 214109, 117845, 146517, 211029, 125013, 157269, 214613, 52437, 138453, 202965, 59605, 156373, 213717, 48405, 105749, 202517, 59157, 123669, 209685, 47509, 104853, 137109, 51093, 115605, 144277, 80269, 108941, 141197, 83853, 116109, 144781, 211085, 125069, 157325, 214669, 117901, 146573, 207053, 92365, 156877, 214221, 85197, 142541, 206605, 91917, 124173, 210189, 81165, 109837, 42805, 71477, 103733, 46389, 78645, 107317, 140917, 83573, 115829, 144501, 79989, 108661, 136885, 50869, 115381, 144053, 47285, 104629, 136437, 50421, 82677, 140021, 43253, 71925];

    [Pure]
    public static Colors NextColors(this Random rnd)
    {
        var one = rnd.Next(6);
        var two = (one + rnd.Next(1, 5)) % 6;
        Debug.Assert(one != two);
        return new((Color)one + 1, (Color)two + 1);
    }

    [Pure]
    public static Tile NextTile(this Random rnd)
           => new Tile(rnd.NextItem(Tiles));

    [Pure]
    public static T NextItem<T>(this Random rnd, IReadOnlyList<T> list) => list[rnd.Next(list.Count)];
}
